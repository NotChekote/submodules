#!/usr/bin/env bash

set -euo pipefail

. "$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )/../lib/git.bash"
git.paths.get

. get_tty
. "$ROOT/docker/lib/volumes.sh"
. "$ROOT/submodules/lib/docker_host_user_id.sh"

docker run \
    -e LOCAL_USER_ID="$DOCKER_HOST_USER_ID" \
    -i \
    $TTY \
    -w /var/www \
    --mount source="$PROJECT_VOLUME",target=/var/www \
    --rm \
    us.gcr.io/docker-1000101/prettier-eslint:12.8.0-5.0.1-alpine "$@"
